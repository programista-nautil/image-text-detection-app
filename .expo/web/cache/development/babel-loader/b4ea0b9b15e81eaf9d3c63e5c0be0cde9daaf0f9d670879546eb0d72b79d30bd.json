{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\Projekty_Bartek\\\\image-text-detection-app\\\\App.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport AccessibilityInfo from \"react-native-web/dist/exports/AccessibilityInfo\";\nimport findNodeHandle from \"react-native-web/dist/exports/findNodeHandle\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { Camera } from 'expo-camera/legacy';\nimport * as ImagePicker from 'expo-image-picker';\nimport * as Speech from 'expo-speech';\nimport axios from 'axios';\nimport { Provider as PaperProvider, Button, Card, ActivityIndicator } from 'react-native-paper';\nimport Header from './components/Header';\nimport { MaterialIcons } from '@expo/vector-icons';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  const [image, setImage] = useState(null);\n  const [imageSize, setImageSize] = useState({\n    width: 0,\n    height: 0\n  });\n  const [response, setResponse] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [objectDetection, setObjectDetection] = useState(null);\n  const [cameraActive, setCameraActive] = useState(false);\n  const [hasPermission, setHasPermission] = useState(null);\n  const [detectionMode, setDetectionMode] = useState('');\n  const cameraRef = useRef(null);\n  const detectionIntervalRef = useRef(null);\n  const {\n    width\n  } = Dimensions.get('window');\n  const [takePictureActive, setTakePictureActive] = useState(false);\n  const errorRef = useRef(null);\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const [arucoMarkers, setArucoMarkers] = useState({\n    marker_ids: [],\n    corners: []\n  });\n  const [buttonClicked, setButtonClicked] = useState({\n    all: false,\n    car: false,\n    microwave: false\n  });\n  const [carCameraMode, setCarCameraMode] = useState(false);\n  const [imageSource, setImageSource] = useState('');\n  const aspectRatio = 4 / 3;\n  const cameraHeight = width / aspectRatio * 1.5;\n  const takePictureButtonRef = useRef(null);\n  const handleRetakePhoto = () => {\n    if (image) {\n      setImage(null);\n      setImageSource('');\n    }\n    setResponse(null);\n    setTakePictureActive(true);\n    const reactTag = findNodeHandle(takePictureButtonRef.current);\n    if (reactTag) {\n      AccessibilityInfo.setAccessibilityFocus(reactTag);\n    }\n  };\n  useEffect(() => {\n    if (error && errorRef.current) {\n      const reactTag = findNodeHandle(errorRef.current);\n      if (reactTag) {\n        AccessibilityInfo.setAccessibilityFocus(reactTag);\n      }\n    }\n  }, [error]);\n  useEffect(() => {\n    if (loading) {\n      AccessibilityInfo.announceForAccessibility('Ładowanie rozpoczęte');\n    } else if (!loading && response) {\n      AccessibilityInfo.announceForAccessibility('Ładowanie zakończone');\n    }\n  }, [loading]);\n  useEffect(() => {\n    if (error) {\n      AccessibilityInfo.announceForAccessibility(`Błąd: ${error}`);\n    }\n  }, [error]);\n  useEffect(() => {\n    ;\n    (async () => {\n      const {\n        status\n      } = await Camera.requestCameraPermissionsAsync();\n      setHasPermission(status === 'granted');\n    })();\n  }, []);\n  useEffect(() => {\n    if (cameraActive) {\n      stopDetection();\n    }\n  }, [detectionMode]);\n  useEffect(() => {\n    if (response) {\n      if (detectionMode === 'microwave' && response.detectedText) {\n        speakText(response.detectedText);\n      } else if (detectionMode === 'car' && response.data) {\n        const licensePlate = response.data.license_plate || 'Brak numeru rejestracyjnego';\n        const weight = response.data.weight ? `Waga: ${response.data.weight}` : 'Brak wagi';\n        speakText(`Wykryty pojazd. Numer rejestracyjny: ${licensePlate}. ${weight}`);\n      }\n    }\n  }, [response, detectionMode]);\n  const handleModeChange = newMode => {\n    Speech.stop();\n    setImage(null);\n    setResponse(null);\n    setObjectDetection(null);\n    setError(null);\n    if (cameraActive || takePictureActive) {\n      stopDetection();\n      setTakePictureActive(false);\n      setCameraActive(false);\n    }\n    setDetectionMode(newMode);\n    setButtonClicked(prevState => Object.assign({}, prevState, {\n      [newMode]: true\n    }));\n    setTimeout(() => {\n      setButtonClicked(prevState => Object.assign({}, prevState, {\n        [newMode]: false\n      }));\n    }, 1000);\n    AccessibilityInfo.isScreenReaderEnabled().then(isScreenReaderEnabled => {\n      if (isScreenReaderEnabled) {\n        let modeMessage = '';\n        switch (newMode) {\n          case 'all':\n            modeMessage = 'Wybrano tryb wykrywania wszystkich obiektów';\n            break;\n          case 'car':\n            modeMessage = 'Wybrano tryb wykrywania pojazdów';\n            break;\n          case 'microwave':\n            modeMessage = 'Wybrano tryb wykrywania markerów';\n            break;\n          default:\n            modeMessage = 'Wybrano nieznany tryb';\n        }\n        speakText(modeMessage);\n      }\n    });\n  };\n  const getDescriptionText = () => {\n    switch (detectionMode) {\n      case 'all':\n        return 'Tryb wykrywania wszystkich obiektów w czasie rzeczywistym.';\n      case 'car':\n        return 'Tryb wykrywania pojazdów i odczytywania ich tablicy rejestracyjnej i wagi.';\n      case 'microwave':\n        return 'Tryb wykrywania markerów i analizy tekstu.';\n      default:\n        return 'Aplikacja służy do wykrywania obiektów na zdjęciach oraz analizy ich zawartości.';\n    }\n  };\n  const pickImage = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: false,\n      quality: 1\n    });\n    if (!result.canceled) {\n      const selectedImage = result.assets[0].uri;\n      setImage(selectedImage);\n      setImageSource('gallery');\n      setObjectDetection(null);\n      setResponse(null);\n      setError(null);\n      Image.getSize(selectedImage, (imgWidth, imgHeight) => {\n        setImageSize({\n          width: imgWidth,\n          height: imgHeight\n        });\n      });\n    }\n  };\n  const takePicture = async () => {\n    if (cameraRef.current) {\n      let photo = await cameraRef.current.takePictureAsync();\n      const selectedImage = photo.uri;\n      setImage(selectedImage);\n      setImageSource('camera');\n      setObjectDetection(null);\n      setResponse(null);\n      setError(null);\n      Image.getSize(selectedImage, (imgWidth, imgHeight) => {\n        setImageSize({\n          width: imgWidth,\n          height: imgHeight\n        });\n      });\n      if (detectionMode === 'microwave') {\n        detectArUcoMarker(selectedImage);\n      } else {\n        uploadImage(selectedImage);\n      }\n      setTakePictureActive(false);\n    }\n  };\n  const detectArUcoMarker = async imageUri => {\n    try {\n      setLoading(true);\n      const base64Image = await getBase64(imageUri);\n      const data = {\n        image: base64Image,\n        mode: detectionMode\n      };\n      const detectRes = await axios.post('http://145.239.92.37:8000/detect_and_save_marker', data, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      if (detectRes.data.marker_ids && detectRes.data.marker_ids.length > 0) {\n        const detectedMarkers = detectRes.data.marker_ids || [];\n        const corners = detectRes.data.corners || [];\n        setArucoMarkers({\n          marker_ids: detectedMarkers,\n          corners\n        });\n        const newResponses = [];\n        detectedMarkers.forEach(markerId => {\n          let message = '';\n          switch (markerId) {\n            case 25:\n              message = 'Wykryto stolik.';\n              break;\n            case 20:\n              message = 'Wykryto słoik.';\n              break;\n            case 30:\n              message = 'Wykryto stojak.';\n              break;\n            case 35:\n              message = 'Wykryto krówki.';\n              break;\n            case 40:\n              message = 'Wykryto wizytówki.';\n              break;\n            case 45:\n              message = 'Wykryto gadżety.';\n              break;\n            case 11:\n              message = 'Wykryto ekspres do kawy. Rozpoczynam analizę tekstu.';\n              analyzeTextFromImage(imageUri);\n              break;\n            default:\n              message = `Wykryto nieznany marker o ID ${markerId}.`;\n          }\n          if (message) {\n            newResponses.push(message);\n            speakText(message);\n          }\n        });\n        setResponse(prevResponse => Object.assign({}, prevResponse, {\n          detectedObjects: newResponses\n        }));\n      } else {\n        setError('Nie wykryto markera.');\n      }\n    } catch (error) {\n      console.error('Error detectArUcoMarker: ', error);\n      setError('Error during marker detection');\n      speakText('Wystąpił błąd podczas wykrywania markera.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const analyzeTextFromImage = async imageUri => {\n    try {\n      const base64Image = await getBase64(imageUri);\n      const data = {\n        image: base64Image,\n        mode: detectionMode\n      };\n      const detectRes = await axios.post('http://145.239.92.37:8000/detect_and_save', data, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      setResponse(detectRes.data);\n      if (!detectRes.data.detectedText) {\n        setError('Brak wykrytego tekstu.');\n        speakText('Brak wykrytego tekstu.');\n      }\n    } catch (error) {\n      console.error('Error analyzeTextFromImage: ', error.message, error.response ? error.response.data : null);\n      setError('Error during marker detection');\n      speakText('Wystąpił błąd podczas wykrywania markera.');\n      setLoading(false);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getBase64 = async fileUri => {\n    const response = await fetch(fileUri);\n    const blob = await response.blob();\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onloadend = () => resolve(reader.result);\n      reader.onerror = reject;\n      reader.readAsDataURL(blob);\n    });\n  };\n  const analyzeImage = async () => {\n    if (cameraRef.current) {\n      try {\n        clearInterval(detectionIntervalRef.current);\n        let photo = await cameraRef.current.takePictureAsync();\n        const selectedImage = photo.uri;\n        setImage(selectedImage);\n        setCameraActive(false);\n        setLoading(true);\n        const base64Image = await getBase64(selectedImage);\n        const data = {\n          image: base64Image,\n          mode: detectionMode\n        };\n        const detectRes = await axios.post('http://145.239.92.37:8000/detect_and_save', data, {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        setResponse(detectRes.data);\n      } catch (error) {\n        console.error('Error analyzeImage: ', error.message, error.response ? error.response.data : null);\n        setError('Error during marker detection');\n        speakText('Wystąpił błąd podczas wykrywania markera.');\n        setLoading(false);\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n  const uploadImage = async (selectedImageUri = image) => {\n    if (!selectedImageUri) {\n      const errorMessage = 'Brak obrazu do przesłania.';\n      setError(errorMessage);\n      speakText(errorMessage);\n      return;\n    }\n    setLoading(true);\n    const formData = new FormData();\n    formData.append('file', {\n      uri: selectedImageUri,\n      type: 'image/jpeg',\n      name: 'photo.jpg'\n    });\n    try {\n      const detectObjectsRes = await axios.post(`http://145.239.92.37:8000/detect_objects?mode=${detectionMode}`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      if (detectObjectsRes.data.length === 0) {\n        const noObjectsMessage = 'Nie wykryto żadnych obiektów na zdjęciu.';\n        setError(noObjectsMessage);\n        setObjectDetection(null);\n        setLoading(false);\n        return;\n      } else {\n        setObjectDetection(detectObjectsRes.data);\n        setError(null);\n        if (detectionMode === 'microwave') {\n          speakText('Wykryto ekspres, analizuje tekst.');\n        }\n      }\n      const base64Image = await getBase64(selectedImageUri);\n      const data = {\n        image: base64Image,\n        mode: detectionMode\n      };\n      const detectRes = await axios.post('http://145.239.92.37:8000/detect_and_save', data, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      setResponse(detectRes.data);\n    } catch (error) {\n      console.error('Error danalyzeImage: ', error.message, error.response ? error.response.data : null);\n      setError('Error during marker detection');\n      speakText('Wystąpił błąd podczas wykrywania markera.');\n      setLoading(false);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const startDetection = async () => {\n    if (cameraRef.current && !isSpeaking) {\n      setLoading(true);\n      await detectObjects();\n      setLoading(false);\n      detectionIntervalRef.current = setInterval(async () => {\n        if (!isSpeaking) {\n          await detectObjects();\n        }\n      }, Platform.OS === 'ios' ? 5000 : 7000);\n    }\n  };\n  const detectObjects = async () => {\n    if (cameraRef.current) {\n      try {\n        setLoading(true);\n        let photo = await cameraRef.current.takePictureAsync();\n        const selectedImage = photo.uri;\n        setImage(selectedImage);\n        Image.getSize(selectedImage, (imgWidth, imgHeight) => {\n          setImageSize({\n            width: imgWidth,\n            height: imgHeight\n          });\n        });\n        let formData = new FormData();\n        formData.append('file', {\n          uri: selectedImage,\n          name: 'realtime.jpg',\n          type: 'image/jpeg'\n        });\n        const detectRes = await axios.post(`http://145.239.92.37:8000/detect_objects?mode=${detectionMode}`, formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        let detectionData = detectRes.data;\n        if (typeof detectionData === 'string') {\n          detectionData = JSON.parse(detectionData);\n        }\n        if (detectionData.length > 0) {\n          setObjectDetection(detectionData);\n          setLoading(false);\n          if (detectionMode === 'car' || detectionMode === 'microwave') {\n            speakText('Wykryto obiekt. Analizuję obraz.');\n            analyzeImage();\n          }\n          if (detectionMode === 'all') {\n            await readDetectedObjects(detectionData);\n          }\n        } else {\n          setObjectDetection([]);\n          speakText('Nie wykryto żadnych obiektów.');\n        }\n      } catch (error) {\n        console.error('Error detectObjects: ', error.message, error.response ? error.response.data : null);\n        setError('Error during marker detection');\n        speakText('Wystąpił błąd podczas wykrywania markera.');\n        setLoading(false);\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n  const readDetectedObjects = async detectionData => {\n    return new Promise((resolve, reject) => {\n      const limitedDetectionData = detectionData.slice(0, 4);\n      const objectNames = limitedDetectionData.map(obj => `${obj.name}`).join('. ');\n      Speech.stop();\n      setIsSpeaking(true);\n      speakText(objectNames, {\n        onDone: () => {\n          setIsSpeaking(false);\n          resolve();\n        },\n        onError: error => {\n          setIsSpeaking(false);\n          reject(error);\n        }\n      });\n    });\n  };\n  const stopDetection = () => {\n    Speech.stop();\n    clearInterval(detectionIntervalRef.current);\n    setLoading(false);\n    setTakePictureActive(false);\n    setCameraActive(false);\n    setImage(null);\n    setResponse(null);\n    setObjectDetection(null);\n    setError(null);\n  };\n  const removeImage = () => {\n    Speech.stop();\n    setImage(null);\n    setResponse(null);\n    setObjectDetection(null);\n    setError(null);\n    clearInterval(detectionIntervalRef.current);\n  };\n  if (!hasPermission) {\n    return _jsxDEV(View, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 579,\n      columnNumber: 10\n    }, this);\n  }\n  if (hasPermission === false) {\n    return _jsxDEV(Text, {\n      children: \"No access to camera\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 583,\n      columnNumber: 10\n    }, this);\n  }\n  const scaleBox = box => {\n    if (!imageSize.width || !imageSize.height) return {};\n    const viewAspectRatio = imageSize.width / imageSize.height;\n    const viewWidth = width - 40;\n    const viewHeight = viewWidth / viewAspectRatio;\n    const scaleX = viewWidth / imageSize.width;\n    const scaleY = viewHeight / imageSize.height;\n    return {\n      left: box.x1 * scaleX,\n      top: box.y1 * scaleY,\n      width: (box.x2 - box.x1) * scaleX,\n      height: (box.y2 - box.y1) * scaleY\n    };\n  };\n  const scaleMarkerBox = corners => {\n    if (!corners || corners.length < 4) return {};\n    if (!imageSize.width || !imageSize.height) return {};\n    const imageAspectRatio = imageSize.width / imageSize.height;\n    const viewWidth = width - 40;\n    const viewHeight = viewWidth / imageAspectRatio;\n    const scaleX = viewWidth / imageSize.width;\n    const scaleY = viewHeight / imageSize.height;\n    const [topLeft, topRight, bottomRight, bottomLeft] = corners;\n    return {\n      left: topLeft[0] * scaleX,\n      top: topLeft[1] * scaleY,\n      width: (topRight[0] - topLeft[0]) * scaleX,\n      height: (bottomLeft[1] - topLeft[1]) * scaleY\n    };\n  };\n  const speakText = text => {\n    AccessibilityInfo.isScreenReaderEnabled().then(isScreenReaderEnabled => {\n      if (isScreenReaderEnabled) {\n        AccessibilityInfo.announceForAccessibility(text);\n      } else {\n        Speech.speak(text);\n      }\n    });\n  };\n  return _jsxDEV(PaperProvider, {\n    children: _jsxDEV(View, {\n      style: styles.container,\n      children: [_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 643,\n        columnNumber: 5\n      }, this), _jsxDEV(ScrollView, {\n        contentContainerStyle: styles.content,\n        ref: ref => {\n          this.scrollView = ref;\n        },\n        onContentSizeChange: () => this.scrollView.scrollToEnd({\n          animated: true\n        }),\n        children: [_jsxDEV(Text, {\n          style: styles.modeTitle,\n          children: \"Wybierz tryb:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 651,\n          columnNumber: 6\n        }, this), _jsxDEV(View, {\n          style: styles.modeSelector,\n          children: [_jsxDEV(TouchableOpacity, {\n            style: [styles.modeButton, detectionMode === 'all' ? styles.selectedMode : styles.unselectedMode],\n            onPress: () => {\n              handleModeChange('all');\n            },\n            disabled: loading,\n            accessibilityLabel: buttonClicked.all ? '' : 'tryb wszystkie obiekty',\n            accessibilityRole: \"button\",\n            children: _jsxDEV(Text, {\n              style: [styles.modeButtonText, detectionMode === 'all' && styles.selectedModeText],\n              children: \"Wszystkie obiekty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 661,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 653,\n            columnNumber: 7\n          }, this), _jsxDEV(TouchableOpacity, {\n            style: [styles.modeButton, detectionMode === 'car' ? styles.selectedMode : styles.unselectedMode],\n            onPress: () => {\n              if (loading) setLoading(false);\n              handleModeChange('car');\n            },\n            disabled: loading && detectionMode === 'microwave',\n            accessibilityLabel: buttonClicked.car ? '' : 'tryb tylko pojazdy',\n            accessibilityRole: \"button\",\n            children: _jsxDEV(Text, {\n              style: [styles.modeButtonText, detectionMode === 'car' && styles.selectedModeText],\n              children: \"Tylko pojazdy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 674,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 7\n          }, this), _jsxDEV(TouchableOpacity, {\n            style: [styles.modeButton, detectionMode === 'microwave' ? styles.selectedMode : styles.unselectedMode],\n            onPress: () => {\n              if (loading) setLoading(false);\n              handleModeChange('microwave');\n            },\n            disabled: loading && detectionMode === 'car',\n            accessibilityLabel: buttonClicked.microwave ? '' : 'tryb wykryj markery',\n            accessibilityRole: \"button\",\n            children: _jsxDEV(Text, {\n              style: [styles.modeButtonText, detectionMode === 'microwave' && styles.selectedModeText],\n              children: \"Wykryj markery\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 687,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 678,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 652,\n          columnNumber: 6\n        }, this), _jsxDEV(Card, {\n          style: styles.descriptionCard,\n          children: _jsxDEV(Card.Content, {\n            children: _jsxDEV(Text, {\n              style: styles.descriptionText,\n              children: getDescriptionText()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 694,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 693,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 692,\n          columnNumber: 6\n        }, this), _jsxDEV(View, {\n          style: styles.buttonContainer,\n          children: [detectionMode === 'car' && _jsxDEV(_Fragment, {\n            children: [_jsxDEV(Button, {\n              mode: \"contained\",\n              onPress: () => {\n                setCarCameraMode(false);\n                pickImage();\n              },\n              style: styles.button,\n              icon: \"image\",\n              disabled: loading || cameraActive,\n              accessibilityRole: \"button\",\n              labelStyle: {\n                color: 'white'\n              },\n              children: \"Wybierz z galerii\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 700,\n              columnNumber: 9\n            }, this), _jsxDEV(Button, {\n              mode: \"contained\",\n              onPress: () => {\n                if (image) {\n                  setImage(null);\n                }\n                setCarCameraMode(true);\n                setTakePictureActive(true);\n              },\n              style: styles.button,\n              icon: \"camera\",\n              disabled: loading || cameraActive || takePictureActive,\n              accessibilityRole: \"button\",\n              labelStyle: {\n                color: 'white'\n              },\n              children: \"Otw\\xF3rz aparat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 713,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true), detectionMode === 'microwave' && _jsxDEV(Button, {\n            mode: \"contained\",\n            onPress: () => {\n              if (image) {\n                setImage(null);\n              }\n              setTakePictureActive(true);\n            },\n            style: styles.button,\n            icon: \"camera\",\n            disabled: loading || cameraActive || takePictureActive,\n            importantForAccessibility: loading ? 'no-hide-descendants' : 'yes',\n            accessibilityElementsHidden: loading ? true : false,\n            accessibilityRole: \"button\",\n            labelStyle: {\n              color: 'white'\n            },\n            children: \"Otw\\xF3rz aparat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 732,\n            columnNumber: 8\n          }, this), detectionMode === 'all' && _jsxDEV(Button, {\n            mode: \"contained\",\n            onPress: () => setCameraActive(true),\n            style: styles.button,\n            icon: \"camera\",\n            disabled: loading || takePictureActive,\n            accessibilityRole: \"button\",\n            labelStyle: {\n              color: 'white'\n            },\n            children: \"Wykryj obiekty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 751,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 697,\n          columnNumber: 6\n        }, this), takePictureActive && _jsxDEV(Camera, {\n          style: {\n            width: width - 40,\n            height: cameraHeight\n          },\n          ref: cameraRef,\n          children: [_jsxDEV(View, {\n            style: styles.cameraButtonContainer,\n            children: _jsxDEV(Pressable, {\n              ref: takePictureButtonRef,\n              onPress: takePicture,\n              style: styles.cameraIconButton,\n              accessibilityLabel: \"Zr\\xF3b zdj\\u0119cie\",\n              accessibilityRole: \"button\",\n              children: _jsxDEV(MaterialIcons, {\n                name: \"camera\",\n                size: 35,\n                color: \"white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 772,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 766,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 765,\n            columnNumber: 8\n          }, this), _jsxDEV(TouchableOpacity, {\n            style: styles.removeButton,\n            onPress: stopDetection,\n            accessibilityLabel: \"Wy\\u0142\\u0105cz aparat\",\n            accessibilityRole: \"button\",\n            disabled: loading,\n            children: _jsxDEV(MaterialIcons, {\n              name: \"close\",\n              size: 24,\n              color: \"white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 781,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 775,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 764,\n          columnNumber: 7\n        }, this), cameraActive ? _jsxDEV(_Fragment, {\n          children: _jsxDEV(Camera, {\n            style: {\n              width: width - 40,\n              height: cameraHeight\n            },\n            ref: cameraRef,\n            onCameraReady: startDetection,\n            children: [objectDetection && Platform.OS === 'ios' && objectDetection.slice(0, detectionMode === 'all' ? 4 : 1).map((obj, index) => _jsxDEV(View, {\n              style: [styles.box, scaleBox(obj.box)],\n              children: _jsxDEV(View, {\n                style: styles.labelContainer,\n                children: _jsxDEV(Text, {\n                  style: styles.label,\n                  children: obj.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 796,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 795,\n                columnNumber: 12\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 794,\n              columnNumber: 11\n            }, this)), _jsxDEV(View, {\n              style: styles.cameraButtonContainer,\n              children: _jsxDEV(TouchableOpacity, {\n                style: styles.removeButton,\n                onPress: stopDetection,\n                accessibilityLabel: \"Wy\\u0142\\u0105cz aparat\",\n                accessibilityRole: \"button\",\n                children: _jsxDEV(MaterialIcons, {\n                  name: \"close\",\n                  size: 24,\n                  color: \"white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 806,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 801,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 800,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 787,\n            columnNumber: 8\n          }, this)\n        }, void 0, false) : image && imageSize.width > 0 && imageSize.height > 0 ? _jsxDEV(_Fragment, {\n          children: [_jsxDEV(View, {\n            style: styles.imageContainer,\n            children: [_jsxDEV(ScrollView, {\n              style: [styles.imageWrapper, {\n                height: Platform.OS === 'android' ? (width - 40) * (imageSize.height / imageSize.width) : (width - 40) * (imageSize.height / imageSize.width)\n              }],\n              contentContainerStyle: styles.imageScrollContainer,\n              maximumZoomScale: 3,\n              children: _jsxDEV(View, {\n                style: {\n                  position: 'relative'\n                },\n                children: [_jsxDEV(Image, {\n                  source: {\n                    uri: image\n                  },\n                  style: [styles.image, {\n                    height: Platform.OS === 'android' ? (width - 40) * (imageSize.height / imageSize.width) : (width - 40) * (imageSize.height / imageSize.width),\n                    borderRadius: 15\n                  }],\n                  accessible: true,\n                  accessibilityLabel: \"\",\n                  resizeMode: \"contain\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 827,\n                  columnNumber: 11\n                }, this), objectDetection && (Platform.OS === 'ios' || imageSource !== 'camera') && objectDetection.map((obj, index) => _jsxDEV(View, {\n                  style: Object.assign({\n                    position: 'absolute',\n                    borderColor: 'red',\n                    borderWidth: 2\n                  }, scaleBox(obj.box))\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 846,\n                  columnNumber: 13\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 826,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 814,\n              columnNumber: 9\n            }, this), _jsxDEV(TouchableOpacity, {\n              style: styles.removeButton,\n              onPress: removeImage,\n              accessibilityLabel: \"Wy\\u0142\\u0105cz aparat\",\n              accessibilityRole: \"button\",\n              disabled: loading,\n              children: _jsxDEV(MaterialIcons, {\n                name: \"close\",\n                size: 24,\n                color: \"white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 864,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 858,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 813,\n            columnNumber: 8\n          }, this), detectionMode == 'car' && !carCameraMode && _jsxDEV(Button, {\n            mode: \"contained\",\n            onPress: () => {\n              uploadImage(image);\n            },\n            disabled: loading,\n            style: styles.uploadButton,\n            children: \"Wy\\u015Blij obraz\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 869,\n            columnNumber: 9\n          }, this), error && _jsxDEV(_Fragment, {\n            children: [(detectionMode === 'microwave' || detectionMode === 'car' && imageSource === 'camera') && _jsxDEV(Button, {\n              mode: \"contained\",\n              onPress: handleRetakePhoto,\n              style: [styles.button, {\n                marginVertical: 10\n              }],\n              icon: \"camera\",\n              disabled: loading || cameraActive || takePictureActive,\n              importantForAccessibility: loading ? 'no-hide-descendants' : 'yes',\n              accessibilityElementsHidden: loading ? true : false,\n              accessibilityRole: \"button\",\n              labelStyle: {\n                color: 'white'\n              },\n              children: \"Zr\\xF3b zdj\\u0119cie ponownie\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 882,\n              columnNumber: 11\n            }, this), _jsxDEV(Text, {\n              style: styles.errorText,\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 895,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true) : !cameraActive && !takePictureActive && _jsxDEV(View, {\n          style: styles.imagePlaceholder,\n          children: _jsxDEV(Text, {\n            style: styles.placeholderText,\n            children: \"Nie dodano jeszcze zdj\\u0119cia\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 903,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 902,\n          columnNumber: 8\n        }, this), loading && _jsxDEV(ActivityIndicator, {\n          animating: true,\n          size: \"large\",\n          style: styles.activityIndicator,\n          color: \"#4682B4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 908,\n          columnNumber: 7\n        }, this), detectionMode === 'all' && objectDetection && cameraActive && loading === false && _jsxDEV(View, {\n          children: objectDetection && objectDetection.length > 0 ? _jsxDEV(View, {\n            children: [_jsxDEV(Text, {\n              style: styles.responseText,\n              children: \"Wykryte obiekty:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 914,\n              columnNumber: 10\n            }, this), objectDetection.slice(0, 4).map((obj, index) => _jsxDEV(Text, {\n              style: styles.responseText,\n              children: [obj.name, \" - \", Math.round(obj.confidence * 100), \"% pewno\\u015Bci\"]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 916,\n              columnNumber: 11\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 913,\n            columnNumber: 9\n          }, this) : _jsxDEV(Text, {\n            style: styles.responseText,\n            children: \"Nie wykryto \\u017Cadnych obiekt\\xF3w na zdj\\u0119ciu.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 922,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 911,\n          columnNumber: 7\n        }, this), response && (response.data || response.detectedText || response.detectedObjects && response.detectedObjects.length > 0) && _jsxDEV(View, {\n          style: styles.responseContainer,\n          children: [(detectionMode === 'microwave' || detectionMode === 'car' && imageSource === 'camera') && response && _jsxDEV(Button, {\n            mode: \"contained\",\n            onPress: handleRetakePhoto,\n            style: [styles.button, {\n              marginBottom: 10\n            }],\n            icon: \"camera\",\n            disabled: loading || cameraActive || takePictureActive,\n            importantForAccessibility: loading ? 'no-hide-descendants' : 'yes',\n            accessibilityElementsHidden: loading ? true : false,\n            accessibilityRole: \"button\",\n            labelStyle: {\n              color: 'white'\n            },\n            children: \"Zrob zdj\\u0119cie ponownie\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 933,\n            columnNumber: 11\n          }, this), _jsxDEV(Card, {\n            style: styles.responseCard,\n            children: _jsxDEV(Card.Content, {\n              children: [detectionMode === 'microwave' && _jsxDEV(View, {\n                style: styles.responseRow,\n                children: [response.detectedText && _jsxDEV(_Fragment, {\n                  children: [_jsxDEV(Text, {\n                    style: styles.responseText,\n                    children: [\"Wykryty tekst: \", response.detectedText || 'Brak tekstu']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 952,\n                    columnNumber: 15\n                  }, this), _jsxDEV(TouchableOpacity, {\n                    onPress: () => Speech.speak(response.detectedText),\n                    accessibilityLabel: \"Powt\\xF3rz\",\n                    accessibilityRole: \"button\",\n                    children: _jsxDEV(MaterialIcons, {\n                      name: \"replay\",\n                      size: 24,\n                      color: \"black\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 960,\n                      columnNumber: 16\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 956,\n                    columnNumber: 15\n                  }, this)]\n                }, void 0, true), response?.detectedObjects && response.detectedObjects.length > 0 && _jsxDEV(View, {\n                  children: response.detectedObjects.map((detectedObject, index) => _jsxDEV(Text, {\n                    style: styles.responseText,\n                    children: detectedObject\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 967,\n                    columnNumber: 16\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 965,\n                  columnNumber: 14\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 949,\n                columnNumber: 12\n              }, this), detectionMode === 'car' && _jsxDEV(_Fragment, {\n                children: response.data ? _jsxDEV(_Fragment, {\n                  children: [_jsxDEV(Text, {\n                    style: styles.responseText,\n                    children: [\"Numer rejestracyjny: \", response.data.license_plate || 'Brak danych']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 980,\n                    columnNumber: 15\n                  }, this), _jsxDEV(Text, {\n                    style: styles.responseText,\n                    children: [\"Waga: \", response.data.weight || 'Brak danych']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 983,\n                    columnNumber: 15\n                  }, this)]\n                }, void 0, true) : _jsxDEV(Text, {\n                  style: styles.responseText,\n                  children: \"Brak danych do wy\\u015Bwietlenia\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 986,\n                  columnNumber: 14\n                }, this)\n              }, void 0, false)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 947,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 946,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 930,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 644,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 642,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 641,\n    columnNumber: 3\n  }, this);\n}\nconst {\n  width\n} = Dimensions.get('window');\nconst isSmallScreen = width < 400;\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f5f5f5'\n  },\n  content: {\n    flexGrow: 1,\n    justifyContent: 'flex-start',\n    padding: 20\n  },\n  modeSelector: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 10\n  },\n  modeButton: {\n    flex: 1,\n    marginHorizontal: 5,\n    padding: isSmallScreen ? 10 : 10,\n    backgroundColor: '#f0f0f0',\n    borderRadius: 10,\n    alignItems: 'center'\n  },\n  modeButtonText: {\n    color: '#333',\n    fontWeight: 'bold',\n    fontSize: isSmallScreen ? 13 : 16\n  },\n  selectedMode: {\n    backgroundColor: '#4682B4'\n  },\n  unselectedMode: {\n    borderWidth: 2,\n    borderColor: '#4682B4'\n  },\n  selectedModeText: {\n    color: 'white'\n  },\n  box: {\n    position: 'absolute',\n    borderColor: 'red',\n    borderWidth: 2\n  },\n  labelContainer: {\n    position: 'absolute',\n    top: -20,\n    left: 0,\n    flexDirection: 'row',\n    backgroundColor: 'rgba(255, 0, 0, 0.5)',\n    paddingHorizontal: 5,\n    paddingVertical: 2,\n    borderRadius: 5\n  },\n  label: {\n    color: 'white',\n    fontSize: 12\n  },\n  descriptionCard: {\n    marginVertical: 10,\n    backgroundColor: '#f0f0f0',\n    color: '#333'\n  },\n  descriptionText: {\n    fontSize: 16,\n    color: '#333',\n    textAlign: 'center'\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginVertical: 10\n  },\n  button: {\n    flex: 1,\n    marginHorizontal: 5,\n    backgroundColor: '#4682B4',\n    paddingVertical: 8,\n    borderRadius: 55\n  },\n  uploadButton: {\n    marginTop: 20,\n    marginBottom: 10,\n    backgroundColor: '#4682B4'\n  },\n  camera: {\n    width: width - 40,\n    height: (width - 40) * 3 / 3,\n    borderRadius: 15,\n    overflow: 'hidden',\n    marginTop: 10,\n    zIndex: 1\n  },\n  cameraIconButton: {\n    marginBottom: 15,\n    backgroundColor: 'rgba(0,0,0,0.5)',\n    borderRadius: 25,\n    padding: 10\n  },\n  cameraButtonContainer: {\n    flex: 1,\n    gap: 10,\n    backgroundColor: 'transparent',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'flex-end',\n    paddingHorizontal: 30,\n    paddingBottom: 10,\n    zIndex: 100\n  },\n  cameraText: {\n    fontSize: 18,\n    marginBottom: 10,\n    color: 'white'\n  },\n  analyzeButton: {\n    marginTop: 10\n  },\n  imageContainer: {\n    position: 'relative',\n    marginTop: 10\n  },\n  imageWrapper: {\n    width: width - 40\n  },\n  imageScrollContainer: {\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  image: {\n    width: width - 40,\n    borderRadius: 15\n  },\n  removeButton: {\n    position: 'absolute',\n    top: 10,\n    right: 10,\n    backgroundColor: 'rgba(255, 0, 0, 0.7)',\n    padding: 5,\n    borderRadius: 15,\n    zIndex: 100\n  },\n  activityIndicator: {\n    marginVertical: 20,\n    zIndex: 1000\n  },\n  imagePlaceholder: {\n    width: width - 40,\n    height: Math.min(width - 40, width / 2),\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#e0e0e0',\n    borderRadius: 8,\n    marginTop: 10\n  },\n  placeholderText: {\n    color: '#888',\n    fontSize: 18\n  },\n  responseContainer: {\n    marginTop: 10\n  },\n  responseCard: {\n    backgroundColor: '#fff'\n  },\n  responseText: {\n    color: '#333'\n  },\n  errorText: {\n    color: '#f44336',\n    marginTop: 10,\n    textAlign: 'center',\n    fontWeight: 'bold'\n  },\n  cameraIconButton: {\n    marginBottom: 15,\n    backgroundColor: 'rgba(0,0,0,0.5)',\n    borderRadius: 25,\n    padding: 10\n  },\n  cameraButtonContainer: {\n    flex: 1,\n    gap: 10,\n    backgroundColor: 'transparent',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'flex-end',\n    paddingHorizontal: 30,\n    paddingBottom: 10\n  },\n  cameraText: {\n    fontSize: 18,\n    marginBottom: 10,\n    color: 'white'\n  },\n  modeTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#333',\n    marginBottom: 10,\n    textAlign: 'left',\n    paddingLeft: 5\n  },\n  responseRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","useRef","Text","View","StyleSheet","ScrollView","Dimensions","TouchableOpacity","Image","Pressable","AccessibilityInfo","findNodeHandle","Platform","Camera","ImagePicker","Speech","axios","Provider","PaperProvider","Button","Card","ActivityIndicator","Header","MaterialIcons","jsxDEV","_jsxDEV","Fragment","_Fragment","App","image","setImage","imageSize","setImageSize","width","height","response","setResponse","loading","setLoading","error","setError","objectDetection","setObjectDetection","cameraActive","setCameraActive","hasPermission","setHasPermission","detectionMode","setDetectionMode","cameraRef","detectionIntervalRef","get","takePictureActive","setTakePictureActive","errorRef","isSpeaking","setIsSpeaking","arucoMarkers","setArucoMarkers","marker_ids","corners","buttonClicked","setButtonClicked","all","car","microwave","carCameraMode","setCarCameraMode","imageSource","setImageSource","aspectRatio","cameraHeight","takePictureButtonRef","handleRetakePhoto","reactTag","current","setAccessibilityFocus","announceForAccessibility","status","requestCameraPermissionsAsync","stopDetection","detectedText","speakText","data","licensePlate","license_plate","weight","handleModeChange","newMode","stop","prevState","Object","assign","setTimeout","isScreenReaderEnabled","then","modeMessage","getDescriptionText","pickImage","result","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","allowsEditing","quality","canceled","selectedImage","assets","uri","getSize","imgWidth","imgHeight","takePicture","photo","takePictureAsync","detectArUcoMarker","uploadImage","imageUri","base64Image","getBase64","mode","detectRes","post","headers","length","detectedMarkers","newResponses","forEach","markerId","message","analyzeTextFromImage","push","prevResponse","detectedObjects","console","fileUri","fetch","blob","Promise","resolve","reject","reader","FileReader","onloadend","onerror","readAsDataURL","analyzeImage","clearInterval","selectedImageUri","errorMessage","formData","FormData","append","type","name","detectObjectsRes","noObjectsMessage","startDetection","detectObjects","setInterval","OS","detectionData","JSON","parse","readDetectedObjects","limitedDetectionData","slice","objectNames","map","obj","join","onDone","onError","removeImage","fileName","_jsxFileName","lineNumber","columnNumber","children","scaleBox","box","viewAspectRatio","viewWidth","viewHeight","scaleX","scaleY","left","x1","top","y1","x2","y2","scaleMarkerBox","imageAspectRatio","topLeft","topRight","bottomRight","bottomLeft","text","speak","style","styles","container","contentContainerStyle","content","ref","scrollView","onContentSizeChange","scrollToEnd","animated","modeTitle","modeSelector","modeButton","selectedMode","unselectedMode","onPress","disabled","accessibilityLabel","accessibilityRole","modeButtonText","selectedModeText","descriptionCard","Content","descriptionText","buttonContainer","button","icon","labelStyle","color","importantForAccessibility","accessibilityElementsHidden","cameraButtonContainer","cameraIconButton","size","removeButton","onCameraReady","index","labelContainer","label","imageContainer","imageWrapper","imageScrollContainer","maximumZoomScale","position","source","borderRadius","accessible","resizeMode","borderColor","borderWidth","uploadButton","marginVertical","errorText","imagePlaceholder","placeholderText","animating","activityIndicator","responseText","Math","round","confidence","responseContainer","marginBottom","responseCard","responseRow","detectedObject","isSmallScreen","create","flex","backgroundColor","flexGrow","justifyContent","padding","flexDirection","marginHorizontal","alignItems","fontWeight","fontSize","paddingHorizontal","paddingVertical","textAlign","marginTop","camera","overflow","zIndex","gap","paddingBottom","cameraText","analyzeButton","right","min","paddingLeft"],"sources":["C:/Users/HP/Desktop/Projekty_Bartek/image-text-detection-app/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react'\r\nimport {\r\n\tText,\r\n\tView,\r\n\tStyleSheet,\r\n\tScrollView,\r\n\tDimensions,\r\n\tTouchableOpacity,\r\n\tImage,\r\n\tPressable,\r\n\tAccessibilityInfo,\r\n\tfindNodeHandle,\r\n\tPlatform,\r\n} from 'react-native'\r\nimport { Camera } from 'expo-camera/legacy'\r\nimport * as ImagePicker from 'expo-image-picker'\r\nimport * as Speech from 'expo-speech'\r\nimport axios from 'axios'\r\nimport { Provider as PaperProvider, Button, Card, ActivityIndicator } from 'react-native-paper'\r\nimport Header from './components/Header'\r\nimport { MaterialIcons } from '@expo/vector-icons'\r\n\r\nexport default function App() {\r\n\tconst [image, setImage] = useState(null)\r\n\tconst [imageSize, setImageSize] = useState({ width: 0, height: 0 })\r\n\tconst [response, setResponse] = useState(null)\r\n\tconst [loading, setLoading] = useState(false)\r\n\tconst [error, setError] = useState(null)\r\n\tconst [objectDetection, setObjectDetection] = useState(null)\r\n\tconst [cameraActive, setCameraActive] = useState(false)\r\n\tconst [hasPermission, setHasPermission] = useState(null)\r\n\tconst [detectionMode, setDetectionMode] = useState('')\r\n\tconst cameraRef = useRef(null)\r\n\tconst detectionIntervalRef = useRef(null)\r\n\tconst { width } = Dimensions.get('window')\r\n\tconst [takePictureActive, setTakePictureActive] = useState(false)\r\n\tconst errorRef = useRef(null)\r\n\tconst [isSpeaking, setIsSpeaking] = useState(false)\r\n\tconst [arucoMarkers, setArucoMarkers] = useState({ marker_ids: [], corners: [] })\r\n\tconst [buttonClicked, setButtonClicked] = useState({\r\n\t\tall: false,\r\n\t\tcar: false,\r\n\t\tmicrowave: false,\r\n\t})\r\n\tconst [carCameraMode, setCarCameraMode] = useState(false)\r\n\tconst [imageSource, setImageSource] = useState('')\r\n\r\n\tconst aspectRatio = 4 / 3\r\n\r\n\t// Oblicz wysokość na podstawie szerokości ekranu i proporcji\r\n\tconst cameraHeight = (width / aspectRatio) * 1.5\r\n\r\n\tconst takePictureButtonRef = useRef(null)\r\n\r\n\tconst handleRetakePhoto = () => {\r\n\t\tif (image) {\r\n\t\t\tsetImage(null)\r\n\t\t\tsetImageSource('')\r\n\t\t}\r\n\t\tsetResponse(null)\r\n\t\tsetTakePictureActive(true)\r\n\r\n\t\t// Skupienie na przycisku \"Zrób zdjęcie\"\r\n\t\tconst reactTag = findNodeHandle(takePictureButtonRef.current)\r\n\t\tif (reactTag) {\r\n\t\t\tAccessibilityInfo.setAccessibilityFocus(reactTag)\r\n\t\t}\r\n\t}\r\n\r\n\t// Focus on error\r\n\tuseEffect(() => {\r\n\t\tif (error && errorRef.current) {\r\n\t\t\tconst reactTag = findNodeHandle(errorRef.current)\r\n\t\t\tif (reactTag) {\r\n\t\t\t\tAccessibilityInfo.setAccessibilityFocus(reactTag)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [error])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (loading) {\r\n\t\t\tAccessibilityInfo.announceForAccessibility('Ładowanie rozpoczęte')\r\n\t\t} else if (!loading && response) {\r\n\t\t\tAccessibilityInfo.announceForAccessibility('Ładowanie zakończone')\r\n\t\t}\r\n\t}, [loading])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (error) {\r\n\t\t\tAccessibilityInfo.announceForAccessibility(`Błąd: ${error}`)\r\n\t\t}\r\n\t}, [error])\r\n\r\n\tuseEffect(() => {\r\n\t\t;(async () => {\r\n\t\t\tconst { status } = await Camera.requestCameraPermissionsAsync()\r\n\t\t\tsetHasPermission(status === 'granted')\r\n\t\t})()\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (cameraActive) {\r\n\t\t\t// Restart detection whenever the detectionMode changes while the camera is active\r\n\t\t\tstopDetection() // Stop the current detection\r\n\t\t}\r\n\t}, [detectionMode])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (response) {\r\n\t\t\tif (detectionMode === 'microwave' && response.detectedText) {\r\n\t\t\t\t// Odczytaj tekst wykryty w trybie microwave\r\n\t\t\t\tspeakText(response.detectedText)\r\n\t\t\t} else if (detectionMode === 'car' && response.data) {\r\n\t\t\t\t// Sprawdzamy, czy response.data istnieje\r\n\t\t\t\t// Odczytaj numer rejestracyjny i wagę w trybie car\r\n\t\t\t\tconst licensePlate = response.data.license_plate || 'Brak numeru rejestracyjnego'\r\n\t\t\t\tconst weight = response.data.weight ? `Waga: ${response.data.weight}` : 'Brak wagi'\r\n\t\t\t\tspeakText(`Wykryty pojazd. Numer rejestracyjny: ${licensePlate}. ${weight}`)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [response, detectionMode])\r\n\r\n\tconst handleModeChange = newMode => {\r\n\t\t// Usunięcie zdjęcia i danych po zmianie trybu\r\n\t\tSpeech.stop()\r\n\t\tsetImage(null)\r\n\t\tsetResponse(null)\r\n\t\tsetObjectDetection(null)\r\n\t\tsetError(null)\r\n\r\n\t\tif (cameraActive || takePictureActive) {\r\n\t\t\tstopDetection()\r\n\t\t\tsetTakePictureActive(false)\r\n\t\t\tsetCameraActive(false)\r\n\t\t}\r\n\r\n\t\t// Zaktualizuj tryb detekcji\r\n\t\tsetDetectionMode(newMode)\r\n\r\n\t\t// Ustaw przycisk jako kliknięty\r\n\t\tsetButtonClicked(prevState => ({\r\n\t\t\t...prevState,\r\n\t\t\t[newMode]: true,\r\n\t\t}))\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetButtonClicked(prevState => ({\r\n\t\t\t\t...prevState,\r\n\t\t\t\t[newMode]: false, // Zresetuj stan po krótkim czasie\r\n\t\t\t}))\r\n\t\t}, 1000)\r\n\r\n\t\t// Sprawdź, czy VoiceOver lub TalkBack są włączone\r\n\t\tAccessibilityInfo.isScreenReaderEnabled().then(isScreenReaderEnabled => {\r\n\t\t\tif (isScreenReaderEnabled) {\r\n\t\t\t\t// Odczytaj wybrany tryb tylko, jeśli VoiceOver lub TalkBack są aktywne\r\n\t\t\t\tlet modeMessage = ''\r\n\t\t\t\tswitch (newMode) {\r\n\t\t\t\t\tcase 'all':\r\n\t\t\t\t\t\tmodeMessage = 'Wybrano tryb wykrywania wszystkich obiektów'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'car':\r\n\t\t\t\t\t\tmodeMessage = 'Wybrano tryb wykrywania pojazdów'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'microwave':\r\n\t\t\t\t\t\tmodeMessage = 'Wybrano tryb wykrywania markerów'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tmodeMessage = 'Wybrano nieznany tryb'\r\n\t\t\t\t}\r\n\t\t\t\tspeakText(modeMessage) // Odczytaj wybrany tryb\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tconst getDescriptionText = () => {\r\n\t\tswitch (detectionMode) {\r\n\t\t\tcase 'all':\r\n\t\t\t\treturn 'Tryb wykrywania wszystkich obiektów w czasie rzeczywistym.'\r\n\t\t\tcase 'car':\r\n\t\t\t\treturn 'Tryb wykrywania pojazdów i odczytywania ich tablicy rejestracyjnej i wagi.'\r\n\t\t\tcase 'microwave':\r\n\t\t\t\treturn 'Tryb wykrywania markerów i analizy tekstu.'\r\n\t\t\tdefault:\r\n\t\t\t\treturn 'Aplikacja służy do wykrywania obiektów na zdjęciach oraz analizy ich zawartości.'\r\n\t\t}\r\n\t}\r\n\r\n\tconst pickImage = async () => {\r\n\t\tlet result = await ImagePicker.launchImageLibraryAsync({\r\n\t\t\tmediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n\t\t\tallowsEditing: false,\r\n\t\t\tquality: 1,\r\n\t\t})\r\n\r\n\t\tif (!result.canceled) {\r\n\t\t\tconst selectedImage = result.assets[0].uri\r\n\t\t\tsetImage(selectedImage)\r\n\t\t\tsetImageSource('gallery')\r\n\t\t\tsetObjectDetection(null)\r\n\t\t\tsetResponse(null)\r\n\t\t\tsetError(null)\r\n\t\t\tImage.getSize(selectedImage, (imgWidth, imgHeight) => {\r\n\t\t\t\tsetImageSize({ width: imgWidth, height: imgHeight })\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tconst takePicture = async () => {\r\n\t\tif (cameraRef.current) {\r\n\t\t\tlet photo = await cameraRef.current.takePictureAsync()\r\n\t\t\tconst selectedImage = photo.uri\r\n\t\t\tsetImage(selectedImage)\r\n\t\t\tsetImageSource('camera')\r\n\t\t\tsetObjectDetection(null)\r\n\t\t\tsetResponse(null)\r\n\t\t\tsetError(null)\r\n\t\t\tImage.getSize(selectedImage, (imgWidth, imgHeight) => {\r\n\t\t\t\tsetImageSize({ width: imgWidth, height: imgHeight })\r\n\t\t\t})\r\n\r\n\t\t\tif (detectionMode === 'microwave') {\r\n\t\t\t\t// W trybie \"microwave\" analizujemy tylko tekst\r\n\t\t\t\t//analyzeTextFromImage(selectedImage)\r\n\t\t\t\tdetectArUcoMarker(selectedImage)\r\n\t\t\t} else {\r\n\t\t\t\tuploadImage(selectedImage) // Dla innych trybów standardowy upload obrazu\r\n\t\t\t}\r\n\t\t\tsetTakePictureActive(false)\r\n\t\t}\r\n\t}\r\n\r\n\t// Funkcja do przesyłania obrazu i detekcji markerów ArUco\r\n\tconst detectArUcoMarker = async imageUri => {\r\n\t\ttry {\r\n\t\t\tsetLoading(true) // Rozpoczynamy ładowanie\r\n\t\t\tconst base64Image = await getBase64(imageUri)\r\n\r\n\t\t\tconst data = {\r\n\t\t\t\timage: base64Image,\r\n\t\t\t\tmode: detectionMode,\r\n\t\t\t}\r\n\r\n\t\t\tconst detectRes = await axios.post('http://145.239.92.37:8000/detect_and_save_marker', data, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t})\r\n\r\n\t\t\t// Sprawdzamy, czy wykryto jakiekolwiek markery\r\n\t\t\tif (detectRes.data.marker_ids && detectRes.data.marker_ids.length > 0) {\r\n\t\t\t\tconst detectedMarkers = detectRes.data.marker_ids || []\r\n\t\t\t\tconst corners = detectRes.data.corners || []\r\n\t\t\t\tsetArucoMarkers({ marker_ids: detectedMarkers, corners })\r\n\r\n\t\t\t\tconst newResponses = [] // Zmienna do przechowywania wszystkich odpowiedzi\r\n\r\n\t\t\t\tdetectedMarkers.forEach(markerId => {\r\n\t\t\t\t\tlet message = '' // Wiadomość, którą wypowiemy\r\n\r\n\t\t\t\t\tswitch (markerId) {\r\n\t\t\t\t\t\tcase 25:\r\n\t\t\t\t\t\t\tmessage = 'Wykryto stolik.'\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase 20:\r\n\t\t\t\t\t\t\tmessage = 'Wykryto słoik.'\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase 30:\r\n\t\t\t\t\t\t\tmessage = 'Wykryto stojak.'\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase 35:\r\n\t\t\t\t\t\t\tmessage = 'Wykryto krówki.'\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase 40:\r\n\t\t\t\t\t\t\tmessage = 'Wykryto wizytówki.'\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase 45:\r\n\t\t\t\t\t\t\tmessage = 'Wykryto gadżety.'\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase 11:\r\n\t\t\t\t\t\t\tmessage = 'Wykryto ekspres do kawy. Rozpoczynam analizę tekstu.'\r\n\t\t\t\t\t\t\tanalyzeTextFromImage(imageUri) // Analizuj tekst na zdjęciu\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tmessage = `Wykryto nieznany marker o ID ${markerId}.`\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (message) {\r\n\t\t\t\t\t\tnewResponses.push(message)\r\n\t\t\t\t\t\tspeakText(message)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t\t// Ustawiamy odpowiedzi po zakończeniu pętli\r\n\t\t\t\tsetResponse(prevResponse => ({\r\n\t\t\t\t\t...prevResponse,\r\n\t\t\t\t\tdetectedObjects: newResponses,\r\n\t\t\t\t}))\r\n\t\t\t} else {\r\n\t\t\t\tsetError('Nie wykryto markera.')\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error detectArUcoMarker: ', error)\r\n\t\t\tsetError('Error during marker detection')\r\n\t\t\tspeakText('Wystąpił błąd podczas wykrywania markera.')\r\n\t\t} finally {\r\n\t\t\tsetLoading(false) // Wyłączamy ładowanie niezależnie od wyniku\r\n\t\t}\r\n\t}\r\n\r\n\t// Funkcja do analizy tekstu z obrazu\r\n\tconst analyzeTextFromImage = async imageUri => {\r\n\t\ttry {\r\n\t\t\tconst base64Image = await getBase64(imageUri)\r\n\r\n\t\t\tconst data = {\r\n\t\t\t\timage: base64Image,\r\n\t\t\t\tmode: detectionMode, // Tryb jest zawsze \"microwave\" tutaj\r\n\t\t\t}\r\n\r\n\t\t\tconst detectRes = await axios.post('http://145.239.92.37:8000/detect_and_save', data, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t})\r\n\r\n\t\t\tsetResponse(detectRes.data)\r\n\t\t\tif (!detectRes.data.detectedText) {\r\n\t\t\t\tsetError('Brak wykrytego tekstu.')\r\n\t\t\t\tspeakText('Brak wykrytego tekstu.')\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error analyzeTextFromImage: ', error.message, error.response ? error.response.data : null)\r\n\t\t\tsetError('Error during marker detection')\r\n\t\t\tspeakText('Wystąpił błąd podczas wykrywania markera.')\r\n\t\t\tsetLoading(false)\r\n\t\t} finally {\r\n\t\t\tsetLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst getBase64 = async fileUri => {\r\n\t\tconst response = await fetch(fileUri)\r\n\t\tconst blob = await response.blob()\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconst reader = new FileReader()\r\n\t\t\treader.onloadend = () => resolve(reader.result)\r\n\t\t\treader.onerror = reject\r\n\t\t\treader.readAsDataURL(blob)\r\n\t\t})\r\n\t}\r\n\r\n\t// Function to analyze and send data to detect_and_save endpoint\r\n\tconst analyzeImage = async () => {\r\n\t\tif (cameraRef.current) {\r\n\t\t\ttry {\r\n\t\t\t\t// Stop real-time object detection and camera feed\r\n\t\t\t\tclearInterval(detectionIntervalRef.current)\r\n\r\n\t\t\t\t// Capture the last frame from the camera and set it as the static image\r\n\t\t\t\tlet photo = await cameraRef.current.takePictureAsync()\r\n\t\t\t\tconst selectedImage = photo.uri\r\n\t\t\t\tsetImage(selectedImage) // Set the captured image as the static image\r\n\t\t\t\tsetCameraActive(false) // Stop the camera\r\n\r\n\t\t\t\t// Process the image\r\n\t\t\t\tsetLoading(true)\r\n\t\t\t\tconst base64Image = await getBase64(selectedImage)\r\n\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\timage: base64Image,\r\n\t\t\t\t\tmode: detectionMode, // Send the detection mode to the backend\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst detectRes = await axios.post('http://145.239.92.37:8000/detect_and_save', data, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\r\n\t\t\t\t// Handle the response\r\n\t\t\t\tsetResponse(detectRes.data)\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Error analyzeImage: ', error.message, error.response ? error.response.data : null)\r\n\t\t\t\tsetError('Error during marker detection')\r\n\t\t\t\tspeakText('Wystąpił błąd podczas wykrywania markera.')\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t} finally {\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst uploadImage = async (selectedImageUri = image) => {\r\n\t\tif (!selectedImageUri) {\r\n\t\t\tconst errorMessage = 'Brak obrazu do przesłania.'\r\n\t\t\tsetError(errorMessage)\r\n\t\t\tspeakText(errorMessage)\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tsetLoading(true)\r\n\r\n\t\tconst formData = new FormData()\r\n\t\tformData.append('file', {\r\n\t\t\turi: selectedImageUri,\r\n\t\t\ttype: 'image/jpeg',\r\n\t\t\tname: 'photo.jpg',\r\n\t\t})\r\n\r\n\t\ttry {\r\n\t\t\t// Include detection mode in request\r\n\t\t\tconst detectObjectsRes = await axios.post(\r\n\t\t\t\t`http://145.239.92.37:8000/detect_objects?mode=${detectionMode}`,\r\n\t\t\t\tformData,\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t)\r\n\r\n\t\t\tif (detectObjectsRes.data.length === 0) {\r\n\t\t\t\tconst noObjectsMessage = 'Nie wykryto żadnych obiektów na zdjęciu.'\r\n\t\t\t\tsetError(noObjectsMessage)\r\n\t\t\t\t//Speech.speak(noObjectsMessage)\r\n\t\t\t\tsetObjectDetection(null)\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t\treturn\r\n\t\t\t} else {\r\n\t\t\t\tsetObjectDetection(detectObjectsRes.data)\r\n\t\t\t\tsetError(null)\r\n\t\t\t\tif (detectionMode === 'microwave') {\r\n\t\t\t\t\tspeakText('Wykryto ekspres, analizuje tekst.')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst base64Image = await getBase64(selectedImageUri)\r\n\r\n\t\t\tconst data = {\r\n\t\t\t\timage: base64Image,\r\n\t\t\t\tmode: detectionMode,\r\n\t\t\t}\r\n\r\n\t\t\tconst detectRes = await axios.post('http://145.239.92.37:8000/detect_and_save', data, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\tsetResponse(detectRes.data)\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error danalyzeImage: ', error.message, error.response ? error.response.data : null)\r\n\t\t\tsetError('Error during marker detection')\r\n\t\t\tspeakText('Wystąpił błąd podczas wykrywania markera.')\r\n\t\t\tsetLoading(false)\r\n\t\t} finally {\r\n\t\t\tsetLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst startDetection = async () => {\r\n\t\tif (cameraRef.current && !isSpeaking) {\r\n\t\t\tsetLoading(true)\r\n\t\t\tawait detectObjects()\r\n\t\t\tsetLoading(false)\r\n\r\n\t\t\tdetectionIntervalRef.current = setInterval(\r\n\t\t\t\tasync () => {\r\n\t\t\t\t\tif (!isSpeaking) {\r\n\t\t\t\t\t\tawait detectObjects()\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tPlatform.OS === 'ios' ? 5000 : 7000\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tconst detectObjects = async () => {\r\n\t\tif (cameraRef.current) {\r\n\t\t\ttry {\r\n\t\t\t\tsetLoading(true)\r\n\t\t\t\tlet photo = await cameraRef.current.takePictureAsync()\r\n\t\t\t\tconst selectedImage = photo.uri\r\n\t\t\t\tsetImage(selectedImage)\r\n\r\n\t\t\t\tImage.getSize(selectedImage, (imgWidth, imgHeight) => {\r\n\t\t\t\t\tsetImageSize({ width: imgWidth, height: imgHeight })\r\n\t\t\t\t})\r\n\r\n\t\t\t\tlet formData = new FormData()\r\n\t\t\t\tformData.append('file', {\r\n\t\t\t\t\turi: selectedImage,\r\n\t\t\t\t\tname: 'realtime.jpg',\r\n\t\t\t\t\ttype: 'image/jpeg',\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst detectRes = await axios.post(`http://145.239.92.37:8000/detect_objects?mode=${detectionMode}`, formData, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\r\n\t\t\t\tlet detectionData = detectRes.data\r\n\t\t\t\tif (typeof detectionData === 'string') {\r\n\t\t\t\t\tdetectionData = JSON.parse(detectionData) // Parsowanie JSON, jeśli konieczne\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (detectionData.length > 0) {\r\n\t\t\t\t\tsetObjectDetection(detectionData)\r\n\t\t\t\t\tsetLoading(false)\r\n\t\t\t\t\t// W przypadku trybu 'car' lub 'microwave', uruchom analizę obrazu\r\n\t\t\t\t\tif (detectionMode === 'car' || detectionMode === 'microwave') {\r\n\t\t\t\t\t\tspeakText('Wykryto obiekt. Analizuję obraz.')\r\n\t\t\t\t\t\tanalyzeImage() // Analiza obrazu, jeśli są wykryte obiekty\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (detectionMode === 'all') {\r\n\t\t\t\t\t\tawait readDetectedObjects(detectionData) // Czekaj na zakończenie mowy\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetObjectDetection([])\r\n\t\t\t\t\tspeakText('Nie wykryto żadnych obiektów.')\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Error detectObjects: ', error.message, error.response ? error.response.data : null)\r\n\t\t\t\tsetError('Error during marker detection')\r\n\t\t\t\tspeakText('Wystąpił błąd podczas wykrywania markera.')\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t} finally {\r\n\t\t\t\tsetLoading(false) // Upewnij się, że ładowanie zostaje zatrzymane\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst readDetectedObjects = async detectionData => {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconst limitedDetectionData = detectionData.slice(0, 4)\r\n\t\t\tconst objectNames = limitedDetectionData.map(obj => `${obj.name}`).join('. ')\r\n\r\n\t\t\tSpeech.stop()\r\n\t\t\tsetIsSpeaking(true) // Oznacz, że zaczynamy czytać\r\n\r\n\t\t\tspeakText(objectNames, {\r\n\t\t\t\tonDone: () => {\r\n\t\t\t\t\tsetIsSpeaking(false) // Oznacz, że odczyt się zakończył\r\n\t\t\t\t\tresolve() // Informuj, że zakończono odczyt\r\n\t\t\t\t},\r\n\t\t\t\tonError: error => {\r\n\t\t\t\t\tsetIsSpeaking(false) // Jeśli błąd, zakończ\r\n\t\t\t\t\treject(error) // Informuj o błędzie\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\t// Function to stop the real-time detection\r\n\tconst stopDetection = () => {\r\n\t\tSpeech.stop()\r\n\t\tclearInterval(detectionIntervalRef.current)\r\n\t\tsetLoading(false)\r\n\t\tsetTakePictureActive(false)\r\n\t\tsetCameraActive(false)\r\n\t\tsetImage(null)\r\n\t\tsetResponse(null)\r\n\t\tsetObjectDetection(null)\r\n\t\tsetError(null)\r\n\t}\r\n\r\n\t// Function to remove image and stop detection\r\n\tconst removeImage = () => {\r\n\t\tSpeech.stop()\r\n\t\tsetImage(null)\r\n\t\tsetResponse(null)\r\n\t\tsetObjectDetection(null)\r\n\t\tsetError(null)\r\n\t\tclearInterval(detectionIntervalRef.current)\r\n\t}\r\n\r\n\tif (!hasPermission) {\r\n\t\treturn <View />\r\n\t}\r\n\r\n\tif (hasPermission === false) {\r\n\t\treturn <Text>No access to camera</Text>\r\n\t}\r\n\r\n\tconst scaleBox = box => {\r\n\t\tif (!imageSize.width || !imageSize.height) return {}\r\n\t\tconst viewAspectRatio = imageSize.width / imageSize.height\r\n\t\tconst viewWidth = width - 40\r\n\t\tconst viewHeight = viewWidth / viewAspectRatio\r\n\r\n\t\tconst scaleX = viewWidth / imageSize.width\r\n\t\tconst scaleY = viewHeight / imageSize.height\r\n\r\n\t\treturn {\r\n\t\t\tleft: box.x1 * scaleX,\r\n\t\t\ttop: box.y1 * scaleY,\r\n\t\t\twidth: (box.x2 - box.x1) * scaleX,\r\n\t\t\theight: (box.y2 - box.y1) * scaleY,\r\n\t\t}\r\n\t}\r\n\r\n\tconst scaleMarkerBox = corners => {\r\n\t\tif (!corners || corners.length < 4) return {} // Sprawdzanie, czy mamy wystarczająco dużo narożników\r\n\t\tif (!imageSize.width || !imageSize.height) return {} // Sprawdzanie poprawności rozmiarów obrazu\r\n\r\n\t\t// Obliczanie proporcji obrazu do widoku\r\n\t\tconst imageAspectRatio = imageSize.width / imageSize.height\r\n\t\tconst viewWidth = width - 40\r\n\t\tconst viewHeight = viewWidth / imageAspectRatio // Przeskalowanie wysokości na podstawie szerokości obrazu\r\n\r\n\t\t// Obliczanie współczynników skalowania dla szerokości i wysokości\r\n\t\tconst scaleX = viewWidth / imageSize.width\r\n\t\tconst scaleY = viewHeight / imageSize.height\r\n\r\n\t\t// Pobieranie poszczególnych narożników\r\n\t\tconst [topLeft, topRight, bottomRight, bottomLeft] = corners\r\n\r\n\t\t// Zwracanie przeskalowanej pozycji i rozmiarów markera\r\n\t\treturn {\r\n\t\t\tleft: topLeft[0] * scaleX,\r\n\t\t\ttop: topLeft[1] * scaleY,\r\n\t\t\twidth: (topRight[0] - topLeft[0]) * scaleX,\r\n\t\t\theight: (bottomLeft[1] - topLeft[1]) * scaleY,\r\n\t\t}\r\n\t}\r\n\r\n\tconst speakText = text => {\r\n\t\tAccessibilityInfo.isScreenReaderEnabled().then(isScreenReaderEnabled => {\r\n\t\t\tif (isScreenReaderEnabled) {\r\n\t\t\t\t// Jeśli czytnik ekranu jest włączony, odczytaj tekst przez czytnik ekranu\r\n\t\t\t\tAccessibilityInfo.announceForAccessibility(text)\r\n\t\t\t} else {\r\n\t\t\t\t// Jeśli czytnik ekranu nie jest włączony, użyj Speech.speak\r\n\t\t\t\tSpeech.speak(text)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PaperProvider>\r\n\t\t\t<View style={styles.container}>\r\n\t\t\t\t<Header />\r\n\t\t\t\t<ScrollView\r\n\t\t\t\t\tcontentContainerStyle={styles.content}\r\n\t\t\t\t\tref={ref => {\r\n\t\t\t\t\t\tthis.scrollView = ref\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonContentSizeChange={() => this.scrollView.scrollToEnd({ animated: true })}>\r\n\t\t\t\t\t{/* Object detection mode selector using buttons */}\r\n\t\t\t\t\t<Text style={styles.modeTitle}>Wybierz tryb:</Text>\r\n\t\t\t\t\t<View style={styles.modeSelector}>\r\n\t\t\t\t\t\t<TouchableOpacity\r\n\t\t\t\t\t\t\tstyle={[styles.modeButton, detectionMode === 'all' ? styles.selectedMode : styles.unselectedMode]}\r\n\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\thandleModeChange('all')\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\taccessibilityLabel={buttonClicked.all ? '' : 'tryb wszystkie obiekty'}\r\n\t\t\t\t\t\t\taccessibilityRole='button'>\r\n\t\t\t\t\t\t\t<Text style={[styles.modeButtonText, detectionMode === 'all' && styles.selectedModeText]}>\r\n\t\t\t\t\t\t\t\tWszystkie obiekty\r\n\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t</TouchableOpacity>\r\n\t\t\t\t\t\t<TouchableOpacity\r\n\t\t\t\t\t\t\tstyle={[styles.modeButton, detectionMode === 'car' ? styles.selectedMode : styles.unselectedMode]}\r\n\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\tif (loading) setLoading(false)\r\n\t\t\t\t\t\t\t\thandleModeChange('car')\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tdisabled={loading && detectionMode === 'microwave'}\r\n\t\t\t\t\t\t\taccessibilityLabel={buttonClicked.car ? '' : 'tryb tylko pojazdy'}\r\n\t\t\t\t\t\t\taccessibilityRole='button'>\r\n\t\t\t\t\t\t\t<Text style={[styles.modeButtonText, detectionMode === 'car' && styles.selectedModeText]}>\r\n\t\t\t\t\t\t\t\tTylko pojazdy\r\n\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t</TouchableOpacity>\r\n\t\t\t\t\t\t<TouchableOpacity\r\n\t\t\t\t\t\t\tstyle={[styles.modeButton, detectionMode === 'microwave' ? styles.selectedMode : styles.unselectedMode]}\r\n\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\tif (loading) setLoading(false)\r\n\t\t\t\t\t\t\t\thandleModeChange('microwave')\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tdisabled={loading && detectionMode === 'car'}\r\n\t\t\t\t\t\t\taccessibilityLabel={buttonClicked.microwave ? '' : 'tryb wykryj markery'}\r\n\t\t\t\t\t\t\taccessibilityRole='button'>\r\n\t\t\t\t\t\t\t<Text style={[styles.modeButtonText, detectionMode === 'microwave' && styles.selectedModeText]}>\r\n\t\t\t\t\t\t\t\tWykryj markery\r\n\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t</TouchableOpacity>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<Card style={styles.descriptionCard}>\r\n\t\t\t\t\t\t<Card.Content>\r\n\t\t\t\t\t\t\t<Text style={styles.descriptionText}>{getDescriptionText()}</Text>\r\n\t\t\t\t\t\t</Card.Content>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t\t<View style={styles.buttonContainer}>\r\n\t\t\t\t\t\t{detectionMode === 'car' && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tmode='contained'\r\n\t\t\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\t\t\tsetCarCameraMode(false)\r\n\t\t\t\t\t\t\t\t\t\tpickImage()\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tstyle={styles.button}\r\n\t\t\t\t\t\t\t\t\ticon='image'\r\n\t\t\t\t\t\t\t\t\tdisabled={loading || cameraActive}\r\n\t\t\t\t\t\t\t\t\taccessibilityRole='button'\r\n\t\t\t\t\t\t\t\t\tlabelStyle={{ color: 'white' }}>\r\n\t\t\t\t\t\t\t\t\tWybierz z galerii\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tmode='contained'\r\n\t\t\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\t\t\tif (image) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetImage(null)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tsetCarCameraMode(true)\r\n\t\t\t\t\t\t\t\t\t\tsetTakePictureActive(true)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tstyle={styles.button}\r\n\t\t\t\t\t\t\t\t\ticon='camera'\r\n\t\t\t\t\t\t\t\t\tdisabled={loading || cameraActive || takePictureActive}\r\n\t\t\t\t\t\t\t\t\taccessibilityRole='button'\r\n\t\t\t\t\t\t\t\t\tlabelStyle={{ color: 'white' }}>\r\n\t\t\t\t\t\t\t\t\tOtwórz aparat\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{detectionMode === 'microwave' && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tmode='contained'\r\n\t\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\t\tif (image) {\r\n\t\t\t\t\t\t\t\t\t\tsetImage(null)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tsetTakePictureActive(true)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={styles.button}\r\n\t\t\t\t\t\t\t\ticon='camera'\r\n\t\t\t\t\t\t\t\tdisabled={loading || cameraActive || takePictureActive}\r\n\t\t\t\t\t\t\t\timportantForAccessibility={loading ? 'no-hide-descendants' : 'yes'}\r\n\t\t\t\t\t\t\t\taccessibilityElementsHidden={loading ? true : false}\r\n\t\t\t\t\t\t\t\taccessibilityRole='button'\r\n\t\t\t\t\t\t\t\tlabelStyle={{ color: 'white' }}>\r\n\t\t\t\t\t\t\t\tOtwórz aparat\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{detectionMode === 'all' && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tmode='contained'\r\n\t\t\t\t\t\t\t\tonPress={() => setCameraActive(true)}\r\n\t\t\t\t\t\t\t\tstyle={styles.button}\r\n\t\t\t\t\t\t\t\ticon='camera'\r\n\t\t\t\t\t\t\t\tdisabled={loading || takePictureActive}\r\n\t\t\t\t\t\t\t\taccessibilityRole='button'\r\n\t\t\t\t\t\t\t\tlabelStyle={{ color: 'white' }}>\r\n\t\t\t\t\t\t\t\tWykryj obiekty\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t{takePictureActive && (\r\n\t\t\t\t\t\t<Camera style={{ width: width - 40, height: cameraHeight }} ref={cameraRef}>\r\n\t\t\t\t\t\t\t<View style={styles.cameraButtonContainer}>\r\n\t\t\t\t\t\t\t\t<Pressable\r\n\t\t\t\t\t\t\t\t\tref={takePictureButtonRef}\r\n\t\t\t\t\t\t\t\t\tonPress={takePicture}\r\n\t\t\t\t\t\t\t\t\tstyle={styles.cameraIconButton}\r\n\t\t\t\t\t\t\t\t\taccessibilityLabel='Zrób zdjęcie' // Etykieta dla VoiceOver\r\n\t\t\t\t\t\t\t\t\taccessibilityRole='button'>\r\n\t\t\t\t\t\t\t\t\t<MaterialIcons name='camera' size={35} color='white' />\r\n\t\t\t\t\t\t\t\t</Pressable>\r\n\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t<TouchableOpacity\r\n\t\t\t\t\t\t\t\tstyle={styles.removeButton}\r\n\t\t\t\t\t\t\t\tonPress={stopDetection}\r\n\t\t\t\t\t\t\t\taccessibilityLabel='Wyłącz aparat'\r\n\t\t\t\t\t\t\t\taccessibilityRole='button'\r\n\t\t\t\t\t\t\t\tdisabled={loading}>\r\n\t\t\t\t\t\t\t\t<MaterialIcons name='close' size={24} color='white' />\r\n\t\t\t\t\t\t\t</TouchableOpacity>\r\n\t\t\t\t\t\t</Camera>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{cameraActive ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<Camera\r\n\t\t\t\t\t\t\t\tstyle={{ width: width - 40, height: cameraHeight }}\r\n\t\t\t\t\t\t\t\tref={cameraRef}\r\n\t\t\t\t\t\t\t\tonCameraReady={startDetection}>\r\n\t\t\t\t\t\t\t\t{objectDetection &&\r\n\t\t\t\t\t\t\t\t\tPlatform.OS === 'ios' &&\r\n\t\t\t\t\t\t\t\t\tobjectDetection.slice(0, detectionMode === 'all' ? 4 : 1).map((obj, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<View key={index} style={[styles.box, scaleBox(obj.box)]}>\r\n\t\t\t\t\t\t\t\t\t\t\t<View style={styles.labelContainer}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text style={styles.label}>{obj.name}</Text>\r\n\t\t\t\t\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t<View style={styles.cameraButtonContainer}>\r\n\t\t\t\t\t\t\t\t\t<TouchableOpacity\r\n\t\t\t\t\t\t\t\t\t\tstyle={styles.removeButton}\r\n\t\t\t\t\t\t\t\t\t\tonPress={stopDetection}\r\n\t\t\t\t\t\t\t\t\t\taccessibilityLabel='Wyłącz aparat'\r\n\t\t\t\t\t\t\t\t\t\taccessibilityRole='button'>\r\n\t\t\t\t\t\t\t\t\t\t<MaterialIcons name='close' size={24} color='white' />\r\n\t\t\t\t\t\t\t\t\t</TouchableOpacity>\r\n\t\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t</Camera>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : image && imageSize.width > 0 && imageSize.height > 0 ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<View style={styles.imageContainer}>\r\n\t\t\t\t\t\t\t\t<ScrollView\r\n\t\t\t\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\t\t\t\tstyles.imageWrapper,\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\theight:\r\n\t\t\t\t\t\t\t\t\t\t\t\tPlatform.OS === 'android'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? (width - 40) * (imageSize.height / imageSize.width) // Skaluje na Androidzie\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: (width - 40) * (imageSize.height / imageSize.width),\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\tcontentContainerStyle={styles.imageScrollContainer}\r\n\t\t\t\t\t\t\t\t\tmaximumZoomScale={3}>\r\n\t\t\t\t\t\t\t\t\t<View style={{ position: 'relative' }}>\r\n\t\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\t\tsource={{ uri: image }}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyles.image,\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theight:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tPlatform.OS === 'android'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? (width - 40) * (imageSize.height / imageSize.width) // Skaluje na Androidzie\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (width - 40) * (imageSize.height / imageSize.width),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: 15,\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t\taccessible={true} // Informacja o dostępności\r\n\t\t\t\t\t\t\t\t\t\t\taccessibilityLabel='' // Etykieta dla VoiceOver\r\n\t\t\t\t\t\t\t\t\t\t\tresizeMode='contain'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t{objectDetection &&\r\n\t\t\t\t\t\t\t\t\t\t\t(Platform.OS === 'ios' || imageSource !== 'camera') &&\r\n\t\t\t\t\t\t\t\t\t\t\tobjectDetection.map((obj, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<View\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderColor: 'red',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderWidth: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...scaleBox(obj.box),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t\t</ScrollView>\r\n\t\t\t\t\t\t\t\t<TouchableOpacity\r\n\t\t\t\t\t\t\t\t\tstyle={styles.removeButton}\r\n\t\t\t\t\t\t\t\t\tonPress={removeImage}\r\n\t\t\t\t\t\t\t\t\taccessibilityLabel='Wyłącz aparat'\r\n\t\t\t\t\t\t\t\t\taccessibilityRole='button'\r\n\t\t\t\t\t\t\t\t\tdisabled={loading}>\r\n\t\t\t\t\t\t\t\t\t<MaterialIcons name='close' size={24} color='white' />\r\n\t\t\t\t\t\t\t\t</TouchableOpacity>\r\n\t\t\t\t\t\t\t</View>\r\n\r\n\t\t\t\t\t\t\t{detectionMode == 'car' && !carCameraMode && (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tmode='contained'\r\n\t\t\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\t\t\tuploadImage(image)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t\t\tstyle={styles.uploadButton}>\r\n\t\t\t\t\t\t\t\t\tWyślij obraz\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{error && (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t{(detectionMode === 'microwave' || (detectionMode === 'car' && imageSource === 'camera')) && (\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tmode='contained'\r\n\t\t\t\t\t\t\t\t\t\t\tonPress={handleRetakePhoto}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={[styles.button, { marginVertical: 10 }]}\r\n\t\t\t\t\t\t\t\t\t\t\ticon='camera'\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={loading || cameraActive || takePictureActive}\r\n\t\t\t\t\t\t\t\t\t\t\timportantForAccessibility={loading ? 'no-hide-descendants' : 'yes'}\r\n\t\t\t\t\t\t\t\t\t\t\taccessibilityElementsHidden={loading ? true : false}\r\n\t\t\t\t\t\t\t\t\t\t\taccessibilityRole='button'\r\n\t\t\t\t\t\t\t\t\t\t\tlabelStyle={{ color: 'white' }}>\r\n\t\t\t\t\t\t\t\t\t\t\tZrób zdjęcie ponownie\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t<Text style={styles.errorText}>{error}</Text>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t!cameraActive &&\r\n\t\t\t\t\t\t!takePictureActive && (\r\n\t\t\t\t\t\t\t<View style={styles.imagePlaceholder}>\r\n\t\t\t\t\t\t\t\t<Text style={styles.placeholderText}>Nie dodano jeszcze zdjęcia</Text>\r\n\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{loading && (\r\n\t\t\t\t\t\t<ActivityIndicator animating={true} size='large' style={styles.activityIndicator} color='#4682B4' />\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{detectionMode === 'all' && objectDetection && cameraActive && loading === false && (\r\n\t\t\t\t\t\t<View>\r\n\t\t\t\t\t\t\t{objectDetection && objectDetection.length > 0 ? (\r\n\t\t\t\t\t\t\t\t<View>\r\n\t\t\t\t\t\t\t\t\t<Text style={styles.responseText}>Wykryte obiekty:</Text>\r\n\t\t\t\t\t\t\t\t\t{objectDetection.slice(0, 4).map((obj, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<Text key={index} style={styles.responseText}>\r\n\t\t\t\t\t\t\t\t\t\t\t{obj.name} - {Math.round(obj.confidence * 100)}% pewności\r\n\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Text style={styles.responseText}>Nie wykryto żadnych obiektów na zdjęciu.</Text>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{response &&\r\n\t\t\t\t\t\t(response.data ||\r\n\t\t\t\t\t\t\tresponse.detectedText ||\r\n\t\t\t\t\t\t\t(response.detectedObjects && response.detectedObjects.length > 0)) && (\r\n\t\t\t\t\t\t\t<View style={styles.responseContainer}>\r\n\t\t\t\t\t\t\t\t{(detectionMode === 'microwave' || (detectionMode === 'car' && imageSource === 'camera')) &&\r\n\t\t\t\t\t\t\t\t\tresponse && (\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tmode='contained'\r\n\t\t\t\t\t\t\t\t\t\t\tonPress={handleRetakePhoto}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={[styles.button, { marginBottom: 10 }]}\r\n\t\t\t\t\t\t\t\t\t\t\ticon='camera'\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={loading || cameraActive || takePictureActive}\r\n\t\t\t\t\t\t\t\t\t\t\timportantForAccessibility={loading ? 'no-hide-descendants' : 'yes'}\r\n\t\t\t\t\t\t\t\t\t\t\taccessibilityElementsHidden={loading ? true : false}\r\n\t\t\t\t\t\t\t\t\t\t\taccessibilityRole='button'\r\n\t\t\t\t\t\t\t\t\t\t\tlabelStyle={{ color: 'white' }}>\r\n\t\t\t\t\t\t\t\t\t\t\tZrob zdjęcie ponownie\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Card style={styles.responseCard}>\r\n\t\t\t\t\t\t\t\t\t<Card.Content>\r\n\t\t\t\t\t\t\t\t\t\t{detectionMode === 'microwave' && (\r\n\t\t\t\t\t\t\t\t\t\t\t<View style={styles.responseRow}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{response.detectedText && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Text style={styles.responseText}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tWykryty tekst: {response.detectedText || 'Brak tekstu'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Text>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TouchableOpacity\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonPress={() => Speech.speak(response.detectedText)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taccessibilityLabel='Powtórz'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taccessibilityRole='button'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MaterialIcons name='replay' size={24} color='black' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TouchableOpacity>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{response?.detectedObjects && response.detectedObjects.length > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<View>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{response.detectedObjects.map((detectedObject, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Text key={index} style={styles.responseText}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{detectedObject}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t{detectionMode === 'car' && (\r\n\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{response.data ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Text style={styles.responseText}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNumer rejestracyjny: {response.data.license_plate || 'Brak danych'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Text style={styles.responseText}>Waga: {response.data.weight || 'Brak danych'}</Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text style={styles.responseText}>Brak danych do wyświetlenia</Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Card.Content>\r\n\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t</ScrollView>\r\n\t\t\t</View>\r\n\t\t</PaperProvider>\r\n\t)\r\n}\r\n\r\nconst { width } = Dimensions.get('window')\r\nconst isSmallScreen = width < 400\r\n\r\nconst styles = StyleSheet.create({\r\n\tcontainer: {\r\n\t\tflex: 1,\r\n\t\tbackgroundColor: '#f5f5f5',\r\n\t},\r\n\tcontent: {\r\n\t\tflexGrow: 1,\r\n\t\tjustifyContent: 'flex-start',\r\n\t\tpadding: 20,\r\n\t},\r\n\tmodeSelector: {\r\n\t\tflexDirection: 'row',\r\n\t\tjustifyContent: 'space-between',\r\n\t\tmarginBottom: 10,\r\n\t},\r\n\tmodeButton: {\r\n\t\tflex: 1,\r\n\t\tmarginHorizontal: 5,\r\n\t\tpadding: isSmallScreen ? 10 : 10, // Zmniejsz rozmiar przycisku dla małych ekranów\r\n\t\tbackgroundColor: '#f0f0f0',\r\n\t\tborderRadius: 10,\r\n\t\talignItems: 'center',\r\n\t},\r\n\tmodeButtonText: {\r\n\t\tcolor: '#333',\r\n\t\tfontWeight: 'bold',\r\n\t\tfontSize: isSmallScreen ? 13 : 16, // Zmniejsz czcionkę dla mniejszych ekranów\r\n\t},\r\n\tselectedMode: {\r\n\t\tbackgroundColor: '#4682B4',\r\n\t},\r\n\tunselectedMode: {\r\n\t\tborderWidth: 2,\r\n\t\tborderColor: '#4682B4',\r\n\t},\r\n\tselectedModeText: { color: 'white' },\r\n\tbox: {\r\n\t\tposition: 'absolute',\r\n\t\tborderColor: 'red',\r\n\t\tborderWidth: 2,\r\n\t},\r\n\tlabelContainer: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: -20,\r\n\t\tleft: 0,\r\n\t\tflexDirection: 'row',\r\n\t\tbackgroundColor: 'rgba(255, 0, 0, 0.5)',\r\n\t\tpaddingHorizontal: 5,\r\n\t\tpaddingVertical: 2,\r\n\t\tborderRadius: 5,\r\n\t},\r\n\tlabel: {\r\n\t\tcolor: 'white',\r\n\t\tfontSize: 12,\r\n\t},\r\n\tdescriptionCard: {\r\n\t\tmarginVertical: 10,\r\n\t\tbackgroundColor: '#f0f0f0',\r\n\t\tcolor: '#333',\r\n\t},\r\n\tdescriptionText: {\r\n\t\tfontSize: 16,\r\n\t\tcolor: '#333',\r\n\t\ttextAlign: 'center',\r\n\t},\r\n\tbuttonContainer: {\r\n\t\tflexDirection: 'row',\r\n\t\tjustifyContent: 'space-between',\r\n\t\tmarginVertical: 10,\r\n\t},\r\n\tbutton: {\r\n\t\tflex: 1,\r\n\t\tmarginHorizontal: 5,\r\n\t\tbackgroundColor: '#4682B4',\r\n\t\tpaddingVertical: 8,\r\n\t\tborderRadius: 55,\r\n\t},\r\n\tuploadButton: {\r\n\t\tmarginTop: 20,\r\n\t\tmarginBottom: 10,\r\n\t\tbackgroundColor: '#4682B4',\r\n\t},\r\n\tcamera: {\r\n\t\twidth: width - 40,\r\n\t\theight: ((width - 40) * 3) / 3,\r\n\t\tborderRadius: 15,\r\n\t\toverflow: 'hidden',\r\n\t\tmarginTop: 10,\r\n\t\tzIndex: 1,\r\n\t},\r\n\tcameraIconButton: {\r\n\t\tmarginBottom: 15,\r\n\t\tbackgroundColor: 'rgba(0,0,0,0.5)',\r\n\t\tborderRadius: 25,\r\n\t\tpadding: 10,\r\n\t},\r\n\tcameraButtonContainer: {\r\n\t\tflex: 1,\r\n\t\tgap: 10,\r\n\t\tbackgroundColor: 'transparent',\r\n\t\tflexDirection: 'row',\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'flex-end',\r\n\t\tpaddingHorizontal: 30,\r\n\t\tpaddingBottom: 10,\r\n\t\tzIndex: 100,\r\n\t},\r\n\tcameraText: {\r\n\t\tfontSize: 18,\r\n\t\tmarginBottom: 10,\r\n\t\tcolor: 'white',\r\n\t},\r\n\tanalyzeButton: {\r\n\t\tmarginTop: 10,\r\n\t},\r\n\timageContainer: {\r\n\t\tposition: 'relative',\r\n\t\tmarginTop: 10,\r\n\t},\r\n\timageWrapper: {\r\n\t\twidth: width - 40,\r\n\t},\r\n\timageScrollContainer: {\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t},\r\n\timage: {\r\n\t\twidth: width - 40,\r\n\t\tborderRadius: 15,\r\n\t},\r\n\tremoveButton: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: 10,\r\n\t\tright: 10,\r\n\t\tbackgroundColor: 'rgba(255, 0, 0, 0.7)',\r\n\t\tpadding: 5,\r\n\t\tborderRadius: 15,\r\n\t\tzIndex: 100,\r\n\t},\r\n\tactivityIndicator: {\r\n\t\tmarginVertical: 20,\r\n\t\tzIndex: 1000,\r\n\t},\r\n\timagePlaceholder: {\r\n\t\twidth: width - 40,\r\n\t\theight: Math.min(width - 40, width / 2),\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t\tbackgroundColor: '#e0e0e0',\r\n\t\tborderRadius: 8,\r\n\t\tmarginTop: 10,\r\n\t},\r\n\tplaceholderText: {\r\n\t\tcolor: '#888',\r\n\t\tfontSize: 18,\r\n\t},\r\n\tresponseContainer: {\r\n\t\tmarginTop: 10,\r\n\t},\r\n\tresponseCard: {\r\n\t\tbackgroundColor: '#fff',\r\n\t},\r\n\tresponseText: {\r\n\t\tcolor: '#333',\r\n\t},\r\n\terrorText: {\r\n\t\tcolor: '#f44336',\r\n\t\tmarginTop: 10,\r\n\t\ttextAlign: 'center',\r\n\t\tfontWeight: 'bold',\r\n\t},\r\n\tcameraIconButton: {\r\n\t\tmarginBottom: 15,\r\n\t\tbackgroundColor: 'rgba(0,0,0,0.5)',\r\n\t\tborderRadius: 25,\r\n\t\tpadding: 10,\r\n\t},\r\n\tcameraButtonContainer: {\r\n\t\tflex: 1,\r\n\t\tgap: 10,\r\n\t\tbackgroundColor: 'transparent',\r\n\t\tflexDirection: 'row',\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'flex-end',\r\n\t\tpaddingHorizontal: 30,\r\n\t\tpaddingBottom: 10,\r\n\t},\r\n\tcameraText: {\r\n\t\tfontSize: 18,\r\n\t\tmarginBottom: 10,\r\n\t\tcolor: 'white',\r\n\t},\r\n\tmodeTitle: {\r\n\t\tfontSize: 16,\r\n\t\tfontWeight: 'bold',\r\n\t\tcolor: '#333',\r\n\t\tmarginBottom: 10,\r\n\t\ttextAlign: 'left',\r\n\t\tpaddingLeft: 5,\r\n\t},\r\n\tresponseRow: {\r\n\t\tflexDirection: 'row',\r\n\t\tjustifyContent: 'space-between',\r\n\t\talignItems: 'center',\r\n\t},\r\n})\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}